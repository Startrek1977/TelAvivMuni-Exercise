<Window x:Class="TelAvivMuni_Exercise.Controls.DataBrowserDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:TelAvivMuni_Exercise.ViewModels"
        Title="Select Product"
        Width="400"
        Height="400"
        ResizeMode="CanResize"
        ShowInTaskbar="False"
        WindowStartupLocation="CenterOwner">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <!--  Search Box  -->
    <Border Grid.Row="0"
            Margin="10,10,10,5"
            BorderBrush="#CCCCCC"
            BorderThickness="1"
            CornerRadius="3">
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0"
                   Margin="8,0,5,0"
                   VerticalAlignment="Center"
                   Foreground="Gray"
                   Text="&#x1F50D;" />
        <TextBox Grid.Column="1"
                 Padding="5"
                 VerticalContentAlignment="Center"
                 BorderThickness="0"
                 Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
      </Grid>
    </Border>

    <!--  DataGrid  -->
    <DataGrid Grid.Row="1"
              Margin="10,5,10,5"
              AlternatingRowBackground="#F9F9F9"
              AutoGenerateColumns="True"
              BorderBrush="#CCCCCC"
              BorderThickness="1"
              CanUserAddRows="False"
              CanUserDeleteRows="False"
              GridLinesVisibility="Horizontal"
              HeadersVisibility="Column"
              IsReadOnly="True"
              ItemsSource="{Binding FilteredItems}"
              RowBackground="White"
              ScrollViewer.HorizontalScrollBarVisibility="Auto"
              ScrollViewer.VerticalScrollBarVisibility="Auto"
              SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
              SelectionMode="Single" />

    <!--  Items Count  -->
    <TextBlock Grid.Row="2"
               Margin="10,5,10,5"
               FontSize="11"
               Foreground="Gray"
               Text="{Binding ItemsCount, StringFormat='{}{0} items'}" />

    <!--  Buttons  -->
    <StackPanel Grid.Row="3"
                Margin="10,5,10,10"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
      <Button Width="75"
              Height="25"
              Margin="0,0,10,0"
              Command="{Binding CancelCommand}"
              Content="Cancel" />
      <Button Width="75"
              Height="25"
              Command="{Binding OkCommand}"
              Content="OK"
              IsDefault="True" />
    </StackPanel>
  </Grid>
</Window>
